name: RyanAirRun - Daily

on:
  push:
    branches:
    - main
  workflow_dispatch:
  schedule:
    - cron: "0 10,22 * * *"

env:
  PYTHONUNBUFFERED: true

jobs:
  all:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@main
    - uses: actions/setup-python@main
    - run: pip install -r requirements.txt
    - run: >
        python ryanair.py
        --root_origin_code HAM
        --start_within_days 500
        --min_stay_hours 24
        --max_stay_hours 72
        --max_away_days 15
        --no_tqdm

  blacklist:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@main
    - uses: actions/setup-python@main
    - run: pip install -r requirements.txt
    - run: >
        python ryanair.py
        --root_origin_code HAM
        --blacklist CRL NRN
        --start_within_days 500
        --min_stay_hours 24
        --max_stay_hours 72
        --max_away_days 15
        --no_tqdm

  unique_country:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@main
    - uses: actions/setup-python@main
    - run: pip install -r requirements.txt
    - run: > 
        python ryanair.py
        --root_origin_code HAM
        --start_within_days 500
        --min_stay_hours 24
        --max_stay_hours 72
        --max_away_days 15
        --unique_country
        --no_tqdm

  blacklist_unique_country:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@main
    - uses: actions/setup-python@main
    - run: pip install -r requirements.txt
    - run: > 
        python ryanair.py
        --root_origin_code HAM
        --blacklist CRL NRN
        --start_within_days 500
        --min_stay_hours 24
        --max_stay_hours 72
        --max_away_days 15
        --unique_country
        --no_tqdm

  country_whitelist:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@main
    - uses: actions/setup-python@main
    - run: pip install -r requirements.txt
    - run: >
        python ryanair.py
        --root_origin_code HAM
        --start_within_days 500
        --min_stay_hours 24
        --max_stay_hours 72
        --max_away_days 15
        --country_whitelist es ma it jo gr tr pt cy mt il tn
        --no_tqdm


  country_blacklist:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@main
    - uses: actions/setup-python@main
    - run: pip install -r requirements.txt
    - run: >
        python ryanair.py
        --root_origin_code HAM
        --start_within_days 500
        --min_stay_hours 24
        --max_stay_hours 72
        --max_away_days 15
        --country_blacklist es ma it jo gr tr pt cy mt il tn
        --no_tqdm
